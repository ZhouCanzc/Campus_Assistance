# 支付功能测试指南

## 测试步骤

### 1. 访问订单详情页

可以通过以下任一方式进入：
- 首页 → 代取快递 → 点击任一订单
- 首页 → 代买服务 → 点击任一订单

### 2. 接单操作

1. 在订单详情页，点击"我要接单"按钮
2. 确认接单后，订单状态变为"已接单"

### 3. 发起支付

1. 接单成功后，底部会显示三个按钮：
   - **取消接单** (红色)
   - **去支付** (橙色) ← 点击此按钮
   - **完成订单** (绿色)

2. 点击"去支付"按钮后，会跳转到支付页面

### 4. 选择支付方式

在支付页面：
1. 查看订单信息（订单内容、订单金额）
2. 选择支付方式：
   - 💚 微信支付（默认选中）
   - 💙 支付宝支付

### 5. 确认支付

1. 点击底部"确认支付"按钮
2. 系统显示"支付中..."加载提示
3. 等待2秒模拟支付过程

### 6. 查看支付结果

支付完成后，会弹出结果窗口：

**成功情况（90%概率）：**
- 显示 ✓ 成功图标（绿色）
- 提示"支付成功"
- 显示支付金额和方式
- 点击"完成"按钮返回订单详情页

**失败情况（10%概率）：**
- 显示 ✗ 失败图标（红色）
- 提示"支付失败"
- 点击"重试"按钮可以再次支付

## 支付记录查询

支付成功的记录会保存在本地存储中，可以通过以下方式查询：

1. 在开发者工具中打开 Storage 面板
2. 查找 `paymentRecords` 键
3. 可以看到所有支付记录，包括：
   - 订单ID
   - 支付金额
   - 支付方式
   - 支付时间
   - 支付状态

## 测试要点

✅ **必测项：**
1. 支付页面能正常显示订单信息
2. 可以切换支付方式（微信/支付宝）
3. 支付过程有加载提示
4. 支付成功后显示成功提示
5. 支付失败后可以重试
6. 支付成功后能返回订单详情页

⚠️ **注意事项：**
1. 当前为模拟支付，不会真实扣款
2. 支付记录仅保存在本地
3. 订单状态不会因支付而改变（需要后续开发）

## 预期效果截图

### 订单详情页（已接单状态）
```
┌─────────────────────┐
│  订单详情            │
├─────────────────────┤
│  [订单信息]          │
│  打赏金额: ¥15      │
├─────────────────────┤
│ [取消接单] [去支付] [完成订单] │
└─────────────────────┘
```

### 支付页面
```
┌─────────────────────┐
│  收银台              │
├─────────────────────┤
│  订单信息            │
│  订单内容: 代取快递   │
│  订单金额: ¥15      │
├─────────────────────┤
│  选择支付方式        │
│  💚 微信支付 ✓      │
│  💙 支付宝支付       │
├─────────────────────┤
│ 实付: ¥15 [确认支付] │
└─────────────────────┘
```

### 支付成功
```
┌─────────────────────┐
│      ✓              │
│    支付成功          │
│ 已通过微信支付       │
│  成功支付¥15        │
│                     │
│    [完成]           │
└─────────────────────┘
```

## 问题排查

如果遇到问题，请检查：
1. 是否已经接单（只有接单后才显示支付按钮）
2. 订单信息是否完整（订单ID、金额）
3. 页面路径是否正确
4. 控制台是否有报错信息
