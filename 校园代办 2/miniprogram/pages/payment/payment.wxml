<!--pages/payment/payment.wxml-->
<view class="payment-page">
  <!-- è®¢å•ä¿¡æ¯ -->
  <view class="order-info">
    <view class="order-header">
      <text class="order-title">è®¢å•ä¿¡æ¯</text>
    </view>
    <view class="order-detail">
      <view class="detail-row">
        <text class="label">è®¢å•å†…å®¹</text>
        <text class="value">{{orderInfo.title}}</text>
      </view>
      <view class="detail-row">
        <text class="label">è®¢å•é‡‘é¢</text>
        <text class="value price">Â¥{{orderInfo.amount}}</text>
      </view>
    </view>
  </view>

  <!-- æ”¯ä»˜æ–¹å¼é€‰æ‹© -->
  <view class="payment-methods">
    <view class="section-title">é€‰æ‹©æ”¯ä»˜æ–¹å¼</view>
    <view class="method-list">
      <view 
        class="method-item {{selectedMethod === 'wechat' ? 'selected' : ''}}" 
        bindtap="selectMethod" 
        data-method="wechat"
      >
        <view class="method-left">
          <view class="method-icon wechat">ğŸ’š</view>
          <view class="method-info">
            <text class="method-name">å¾®ä¿¡æ”¯ä»˜</text>
            <text class="method-desc">æ¨èä½¿ç”¨å¾®ä¿¡æ”¯ä»˜</text>
          </view>
        </view>
        <view class="method-radio">
          <view class="radio {{selectedMethod === 'wechat' ? 'checked' : ''}}"></view>
        </view>
      </view>

      <view 
        class="method-item {{selectedMethod === 'alipay' ? 'selected' : ''}}" 
        bindtap="selectMethod" 
        data-method="alipay"
      >
        <view class="method-left">
          <view class="method-icon alipay">ğŸ’™</view>
          <view class="method-info">
            <text class="method-name">æ”¯ä»˜å®æ”¯ä»˜</text>
            <text class="method-desc">å®‰å…¨å¿«æ·</text>
          </view>
        </view>
        <view class="method-radio">
          <view class="radio {{selectedMethod === 'alipay' ? 'checked' : ''}}"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ”¯ä»˜æŒ‰é’® -->
  <view class="bottom-bar">
    <view class="total-info">
      <text class="total-label">å®ä»˜é‡‘é¢</text>
      <text class="total-amount">Â¥{{orderInfo.amount}}</text>
    </view>
    <view class="pay-btn" bindtap="confirmPayment">
      <text>ç¡®è®¤æ”¯ä»˜</text>
    </view>
  </view>

  <!-- æ”¯ä»˜ç»“æœå¼¹çª— -->
  <view class="payment-modal" wx:if="{{showResult}}">
    <view class="modal-content">
      <view class="result-icon {{paymentSuccess ? 'success' : 'fail'}}">
        {{paymentSuccess ? 'âœ“' : 'âœ—'}}
      </view>
      <text class="result-title">{{paymentSuccess ? 'æ”¯ä»˜æˆåŠŸ' : 'æ”¯ä»˜å¤±è´¥'}}</text>
      <text class="result-desc">{{resultMessage}}</text>
      <view class="result-actions">
        <view class="result-btn" bindtap="closeResult">
          <text>{{paymentSuccess ? 'å®Œæˆ' : 'é‡è¯•'}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
