<!-- pages/my-wallet/my-wallet.wxml -->
<view class="wallet-page">
  <!-- ä½™é¢æ€»è§ˆ -->
  <view class="balance-section">
    <text class="balance-label">è´¦æˆ·ä½™é¢ (å…ƒ)</text>
    <text class="balance-amount">{{balance.total.toFixed(2)}}</text>
    <view class="balance-detail">
      <text>å¯ç”¨ä½™é¢: {{balance.available.toFixed(2)}}å…ƒ</text>
      <text>å†»ç»“é‡‘é¢: {{balance.frozen.toFixed(2)}}å…ƒ</text>
    </view>
  </view>

  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="quick-actions">
    <view class="action-item" bindtap="handleRecharge">
      <view class="action-icon">â•</view>
      <text class="action-text">å……å€¼</text>
    </view>
    <view class="action-item" bindtap="handleWithdraw" wx:if="{{balance.available > 0}}">
      <view class="action-icon">â–</view>
      <text class="action-text">æç°</text>
    </view>
    <view class="action-item" bindtap="navigateToRecords">
      <view class="action-icon">ğŸ“‹</view>
      <text class="action-text">äº¤æ˜“è®°å½•</text>
    </view>
  </view>

  <!-- æ”¶æ”¯ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stats-card">
      <text class="stats-title">æœ¬æœˆæ”¶æ”¯</text>
      <view class="stats-content">
        <view class="stat-item">
          <text class="stat-label">æ”¶å…¥</text>
          <text class="stat-value income">+{{monthStats.income.toFixed(2)}}</text>
        </view>
        <view class="stat-item">
          <text class="stat-label">æ”¯å‡º</text>
          <text class="stat-value expense">-{{monthStats.expense.toFixed(2)}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘äº¤æ˜“ -->
  <view class="recent-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘äº¤æ˜“</text>
      <text class="section-more" bindtap="navigateToRecords">æŸ¥çœ‹å…¨éƒ¨ ></text>
    </view>
    
    <view class="transaction-list">
      <block wx:for="{{recentTransactions}}" wx:key="id">
        <view class="transaction-item">
          <view class="transaction-info">
            <text class="transaction-type">{{item.type}}</text>
            <text class="transaction-time">{{item.time}}</text>
          </view>
          <text class="transaction-amount {{item.amount > 0 ? 'income' : 'expense'}}">
            {{item.amount > 0 ? '+' : ''}}{{item.amount.toFixed(2)}}
          </text>
          <text class="transaction-status {{item.status}}">{{item.statusText}}</text>
        </view>
      </block>
      
      <view wx:if="{{recentTransactions.length === 0}}" class="empty-state">
        <text>æš‚æ— äº¤æ˜“è®°å½•</text>
      </view>
    </view>
  </view>

  <!-- å®‰å…¨æç¤º -->
  <view class="security-tips">
    <text class="tips-title">å®‰å…¨æç¤º</text>
    <text class="tips-content">è¯·å‹¿å‘ä»–äººæ³„éœ²æ”¯ä»˜å¯†ç ï¼Œè°¨é˜²è¯ˆéª—</text>
  </view>
</view>